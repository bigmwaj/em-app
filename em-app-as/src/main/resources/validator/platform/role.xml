<?xml version="1.0" encoding="UTF-8"?>
<validation>
    <field name="id">
        <condition expression="updateAction">
            <rule type="NonNullRule"/>
        </condition>
    </field>

    <field name="ownerType">
        <condition expression="createAction">
            <rule type="NonNullRule"/>
        </condition>
    </field>

    <field name="name">
        <condition expression="createAction">
            <rule type="NotBlankRule"/>
            <rule type="MaxLengthRule" maxLength="32"/>
            <rule type="RoleNameUniqueRule"/>
        </condition>
    </field>

    <field name="description">
        <condition expression="createAction">
            <rule type="MaxLengthRule" maxLength="128"/>
        </condition>
    </field>

    <field name="rolePrivileges" type="dtoList">
        <validationConfig>
            <field name="privilege" type="dto">
                <condition expression="true">
                    <rule type="NonNullRule"/>
                </condition>
                <validationConfig>
                    <field name="id">
                        <condition expression="true">
                            <rule type="NonNullRule"/>
                            <rule type="PrivilegeExistsRule"/>
                        </condition>
                    </field>
                </validationConfig>
            </field>
        </validationConfig>
    </field>

    <field name="roleUsers" type="dtoList">
        <validationConfig>
            <field name="user" type="dto">
                <condition expression="true">
                    <rule type="NonNullRule"/>
                </condition>
                <validationConfig>
                    <field name="id">
                        <condition expression="true">
                            <rule type="NonNullRule"/>
                            <rule type="UserExistsRule"/>
                        </condition>
                    </field>
                </validationConfig>
            </field>
        </validationConfig>
    </field>

</validation>
