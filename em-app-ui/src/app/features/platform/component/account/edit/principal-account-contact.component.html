<mat-card class="form-section">
  <mat-card-header>
    <mat-card-title>
      <mat-icon>person</mat-icon>Account Primary Contact
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="form" class="contact-form">

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field half-width">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstName" placeholder="Enter first name">
          @if(form.get('firstName')?.hasError('required')) {
          <mat-error>First name is required</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field half-width">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" placeholder="Enter last name">
          @if(form.get('lastName')?.hasError('required')) {
          <mat-error>Last name is required</mat-error>
          }
        </mat-form-field>
      </div>

      <div class="form-row">

        <mat-form-field appearance="outline" class="form-field half-width">
          <mat-label>Birth Date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="birthDate" placeholder="Enter birth date" />
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field half-width">
          <mat-label>Owner Type</mat-label>
          <mat-select formControlName="ownerType">
            @for (type of ownerTypes; track $index) {
            <mat-option [value]="type">{{ type }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>

      <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon>email</mat-icon>
            Primary Contact Email
          </ng-template>
          <!-- Default Email -->
          <div class="subsection-title">Default Email</div>
          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field half-width">
              <mat-label>Email Address</mat-label>
              <input matInput type="email" formControlName="defaultEmail" placeholder="Enter email address">
              <mat-icon matPrefix>email</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field half-width">
              <mat-label>Email Type</mat-label>
              <mat-select formControlName="defaultEmailType">
                @for (type of emailTypes; track $index) {
                <mat-option [value]="type">{{ type }}</mat-option>
                }
              </mat-select>
            </mat-form-field>
          </div>

        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon>phone</mat-icon>
            Primary Contact Phone
          </ng-template>
          <!-- Default Phone -->
          <div class="subsection-title">Default Phone</div>
          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field half-width">
              <mat-label>Phone Number</mat-label>
              <input matInput type="tel" formControlName="defaultPhone" placeholder="Enter phone number">
              <mat-icon matPrefix>phone</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field half-width">
              <mat-label>Phone Type</mat-label>
              <mat-select formControlName="defaultPhoneType">
                @for (type of phoneTypes; track $index) {
                <mat-option [value]="type">{{ type }}</mat-option>
                }
              </mat-select>
            </mat-form-field>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon>location_on</mat-icon>
            Primary Contact Address
          </ng-template>

          <!-- Default Address -->
          <div class="subsection-title">Default Address</div>
          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field half-width">
              <mat-label>Address</mat-label>
              <input matInput formControlName="defaultAddress" placeholder="Enter address">
              <mat-icon matPrefix>location_on</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field half-width">
              <mat-label>Address Type</mat-label>
              <mat-select formControlName="defaultAddressType">
                @for (type of addressTypes; track $index) {
                <mat-option [value]="type">{{ type }}</mat-option>
                }
              </mat-select>
            </mat-form-field>
          </div>
        </mat-tab>
      </mat-tab-group>
    </form>
  </mat-card-content>
</mat-card>